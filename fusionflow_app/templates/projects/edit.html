{% extends 'base.html' %}
{% block title %}Edit Project - FusionFlow{% endblock %}
{% block content %}
<div class="card mx-auto" style="max-width: 600px;">
    <div class="card-body">
        <h2 class="mb-4" style="color: var(--primary-color); font-weight: 700;">Edit Project</h2>
        <form method="POST">
            <div class="mb-3">
                <label for="name" class="form-label">Project Name</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ project.name }}" required>
            </div>
            <div class="mb-3">
                <label for="client_name" class="form-label">Client Name</label>
                <input type="text" class="form-control" id="client_name" name="client_name" value="{{ project.client_name }}" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="2">{{ project.description }}</textarea>
            </div>
            <div class="mb-3">
                <label for="project_type" class="form-label">Project Type</label>
                <input type="text" class="form-control" id="project_type" name="project_type" value="{{ project.project_type }}">
            </div>
            <div class="row mb-3">
                <div class="col">
                    <label for="start_date" class="form-label">Start Date</label>
                    <input type="date" class="form-control" id="start_date" name="start_date" value="{{ project.start_date.strftime('%Y-%m-%d') if project.start_date else '' }}" required>
                </div>
                <div class="col">
                    <label for="planned_completion_date" class="form-label">Planned Completion</label>
                    <input type="date" class="form-control" id="planned_completion_date" name="planned_completion_date" value="{{ project.planned_completion_date.strftime('%Y-%m-%d') if project.planned_completion_date else '' }}" required>
                </div>
            </div>
            <div class="mb-3">
                <label for="total_budget" class="form-label">Total Budget</label>
                <input type="number" class="form-control" id="total_budget" name="total_budget" min="0" step="0.01" value="{{ project.total_budget }}">
            </div>
            <div class="mb-3">
                <label for="priority" class="form-label">Priority</label>
                <select class="form-select" id="priority" name="priority">
                    <option value="Normal" {% if project.priority == 'Normal' %}selected{% endif %}>Normal</option>
                    <option value="High" {% if project.priority == 'High' %}selected{% endif %}>High</option>
                    <option value="Critical" {% if project.priority == 'Critical' %}selected{% endif %}>Critical</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="status" class="form-label">Project Status</label>
                <select class="form-select" id="status" name="status" required>
                    <option value="RFI" {% if project.status == 'RFI' %}selected{% endif %}>RFI</option>
                    <option value="Tender" {% if project.status == 'Tender' %}selected{% endif %}>Tender</option>
                    <option value="Bid" {% if project.status == 'Bid' %}selected{% endif %}>Bid</option>
                    <option value="Submitted" {% if project.status == 'Submitted' %}selected{% endif %}>Submitted</option>
                    <option value="Active" {% if project.status == 'Active' %}selected{% endif %}>Active</option>
                    <option value="Rejected" {% if project.status == 'Rejected' %}selected{% endif %}>Rejected</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="completion_percentage" class="form-label">Completion %</label>
                <input type="number" class="form-control" id="completion_percentage" name="completion_percentage" min="0" max="100" value="{{ project.completion_percentage }}">
            </div>
            <button type="submit" class="btn btn-primary w-100">Save Changes</button>
        </form>
    </div>
</div>
{% endblock %} 